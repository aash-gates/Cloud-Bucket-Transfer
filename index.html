<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
	<div class="container my-5">
		<div class="row">
			<div class="col-md-6 offset-md-3">
				<h2 class="text-center mb-4">Upload to S3</h2>
				<form>
					<div class="form-group">
						<label for="file">Select a file to upload:</label>
						<input type="file" class="form-control-file" id="file" required>
					</div>
					<div class="form-group">
						<label for="bucket">Bucket name:</label>
						<input type="text" class="form-control" id="bucket" required>
					</div>
					<div class="form-group">
						<label for="region">Region:</label>
						<input type="text" class="form-control" id="region" required>
					</div>
					<div class="form-group">
						<label for="accesskey">Access Key ID:</label>
						<input type="text" class="form-control" id="accesskey" required>
					</div>
					<div class="form-group">
						<label for="secretkey">Secret Access Key:</label>
						<input type="password" class="form-control" id="secretkey" required>
					</div>
					<button type="submit" class="btn btn-primary">Upload</button>
				</form>
			</div>
		</div>
	</div>
	<!-- Include AWS SDK for JavaScript -->
	<script src="https://sdk.amazonaws.com/js/aws-sdk-2.103.0.min.js"></script>
	<script>
		// Function to upload file to S3 bucket
		function uploadFile(event) {
			event.preventDefault();
			// Get file, bucket name, region, access key, and secret access key from form
			const file = document.getElementById("file").files[0];
			const bucketName = document.getElementById("bucket").value;
			const region = document.getElementById("region").value;
			const accessKeyId = document.getElementById("accesskey").value;
			const secretAccessKey = document.getElementById("secretkey").value;
			// Configure AWS SDK with credentials and region
			AWS.config.update({
				accessKeyId: accessKeyId,
				secretAccessKey: secretAccessKey,
				region: region
			});
			// Create S3 object
			const s3 = new AWS.S3();
			// Define object parameters
			const params = {
				Bucket: bucketName,
				Key: file.name,
				Body: file,
				ACL: 'public-read'
			};
			// Upload file to S3 bucket
			s3.upload(params, function(err, data) {
				if (err) {
					console.log(err);
					alert("Failed to upload file.");
				} else {
					console.log(data);
					alert("File uploaded successfully.");
				}
			});
		}
		// Attach event listener to form submit button
		document.querySelector("form").addEventListener("submit", uploadFile);
	</script>
</body>
</html>
